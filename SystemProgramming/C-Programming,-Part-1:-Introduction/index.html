<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>C Programming, Part 1: Introduction - UIUC CS241 SystemProgramming Wiki</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "C Programming, Part 1: Introduction";
    var mkdocs_page_input_path = "SystemProgramming/C-Programming,-Part-1:-Introduction.md";
    var mkdocs_page_url = "/SystemProgramming/C-Programming,-Part-1:-Introduction/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> UIUC CS241 SystemProgramming Wiki</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>SystemProgramming</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../#Example Markdown/">#Example Markdown</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../#Informal-Glossary/">#Informal Glossary</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../#Piazza: When And How to Ask For Help/">#Piazza: When And How to Ask For Help</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">C Programming, Part 1: Introduction</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#want-a-quick-introduction-to-c">Want a quick introduction to C?</a></li>
                
            
                <li class="toctree-l3"><a href="#external-resources">External resources</a></li>
                
            
                <li class="toctree-l3"><a href="#crash-course-intro-to-c">Crash course intro to C</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-you-write-a-complete-hello-world-program-in-c">How do you write a complete hello world program in C?</a></li>
                
                    <li><a class="toctree-l4" href="#why-do-we-use-include-stdioh">Why do we use '#include &lt;stdio.h&gt;'?</a></li>
                
                    <li><a class="toctree-l4" href="#how-are-c-strings-represented">How are C strings represented?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-you-declare-a-pointer">How do you declare a pointer?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-you-use-a-pointer-to-readwrite-some-memory">How do you use a pointer to read/write some memory?</a></li>
                
                    <li><a class="toctree-l4" href="#what-is-pointer-arithmetic">What is pointer arithmetic?</a></li>
                
                    <li><a class="toctree-l4" href="#what-is-a-void-pointer">What is a void pointer?</a></li>
                
                    <li><a class="toctree-l4" href="#does-printf-call-write-or-does-write-call-printf">Does printf call write or does write call printf?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-you-print-out-pointer-values-integers-strings">How do you print out pointer values? integers? strings?</a></li>
                
                    <li><a class="toctree-l4" href="#how-would-you-make-standard-out-be-saved-to-a-file">How would you make standard out be saved to a file?</a></li>
                
                    <li><a class="toctree-l4" href="#whats-the-difference-between-a-pointer-and-an-array-give-an-example-of-something-you-can-do-with-one-but-not-the-other">What's the difference between a pointer and an array? Give an example of something you can do with one but not the other.</a></li>
                
                    <li><a class="toctree-l4" href="#sizeof-returns-the-number-of-bytes-so-using-above-code-what-is-sizeofary-and-sizeofptr">sizeof() returns the number of bytes. So using above code, what is sizeof(ary) and sizeof(ptr)?</a></li>
                
                    <li><a class="toctree-l4" href="#which-of-the-following-code-is-incorrect-or-correct-and-why">Which of the following code is incorrect or correct and why?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-you-look-up-information-c-library-calls-and-system-calls">How do you look up information C library calls and system calls?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-you-allocate-memory-on-the-heap">How do you allocate memory on the heap?</a></li>
                
                    <li><a class="toctree-l4" href="#whats-wrong-with-this-string-copy-code">What's wrong with this string copy code?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-you-write-a-strdup-replacement">How do you write a strdup replacement?</a></li>
                
                    <li><a class="toctree-l4" href="#how-do-you-unallocate-memory-on-the-heap">How do you unallocate memory on the heap?</a></li>
                
                    <li><a class="toctree-l4" href="#what-is-double-free-error-how-can-you-avoid-what-is-a-dangling-pointer-how-do-you-avoid">What is double free error? How can you avoid? What is a dangling pointer? How do you avoid?</a></li>
                
                    <li><a class="toctree-l4" href="#what-is-an-example-of-buffer-overflow">What is an example of buffer overflow?</a></li>
                
                    <li><a class="toctree-l4" href="#what-is-typedef-and-how-do-you-use-it">What is 'typedef' and how do you use it?</a></li>
                
                    <li><a class="toctree-l4" href="#wow-that-was-a-lot-of-c">Wow that was a lot of C</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../C-Programming,-Part-2:-Text-Input-And-Output/">C Programming, Part 2: Text Input And Output</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../C-Programming,-Part-3:-Common-Gotchas/">C Programming, Part 3: Common Gotchas</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../C-Programming,-Part-4:-Strings-and-Structs/">C Programming, Part 4: Strings and Structs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../C-Programming,-Part-5:-Debugging/">C Programming, Part 5: Debugging</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../C-Programming,-Review-Questions/">C Programming, Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../C-Programming:-Review-Questions/">C Programming: Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Deadlock,-Part-1:-Resource-Allocation-Graph/">Deadlock, Part 1: Resource Allocation Graph</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Deadlock,-Part-2:-Deadlock-Conditions/">Deadlock, Part 2: Deadlock Conditions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Deadlock,-Part-3:-Dining-Philosophers/">Deadlock, Part 3: Dining Philosophers</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Deadlock-Review-Questions/">Deadlock Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Exam-Topics/">Exam Topics</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../File-System,-Part-1:-Introduction/">File System, Part 1: Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../File-System,-Part-2:-Files-are-inodes-(everything-else-is-just-data...)/">File System, Part 2: Files are inodes (everything else is just data...)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../File-System,-Part-3:-Permissions/">File System, Part 3: Permissions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../File-System,-Part-4:-Working-with-directories/">File System, Part 4: Working with directories</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../File-System,-Part-5:-Virtual-file-systems/">File System, Part 5: Virtual file systems</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../File-System,-Part-6:-Memory-mapped-files-and-Shared-memory/">File System, Part 6: Memory mapped files and Shared memory</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../File-System,-Part-7:-Scalable-and-Reliable-Filesystems/">File System, Part 7: Scalable and Reliable Filesystems</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../File-System,-Part-8:-Removing-preinstalled-malware-from-an-Android-device/">File System, Part 8: Removing preinstalled malware from an Android device</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../File-System,-Part-9:-Disk-blocks-example/">File System, Part 9: Disk blocks example</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../File-Systems-Review-Questions/">File Systems Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Files,-Part-1:-Working-with-files/">Files, Part 1: Working with files</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Filesystem:-Review-Questions/">Filesystem: Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Forking,-Part-1:-Introduction/">Forking, Part 1: Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Forking,-Part-2:-Fork,-Exec,-Wait/">Forking, Part 2: Fork, Exec, Wait</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../HW0/">HW0</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Home/">Home</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../IPC-Review-Questions/">IPC Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Memory,-Part-1:-Heap-Memory-Introduction/">Memory, Part 1: Heap Memory Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Memory,-Part-2:-Implementing-a-Memory-Allocator/">Memory, Part 2: Implementing a Memory Allocator</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Memory,-Part-3:-Smashing-the-Stack-Example/">Memory, Part 3: Smashing the Stack Example</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Memory-Review-Questions/">Memory Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Memory:-Review-Questions/">Memory: Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Multi-threaded-Programming:-Review-Questions/">Multi threaded Programming: Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Networking,-Part-1:-Introduction/">Networking, Part 1: Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Networking,-Part-2:-Using-getaddrinfo/">Networking, Part 2: Using getaddrinfo</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Networking,-Part-3:-Building-a-simple-TCP-Client/">Networking, Part 3: Building a simple TCP Client</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Networking,-Part-4:-Building-a-simple-TCP-Server/">Networking, Part 4: Building a simple TCP Server</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Networking,-Part-5:-Shutting-down-ports,-reusing-ports-and-other-tricks/">Networking, Part 5: Shutting down ports, reusing ports and other tricks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Networking,-Part-6:-Building-a-web-server/">Networking, Part 6: Building a web server</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Networking,-Part-6:-Creating-a-UDP-server/">Networking, Part 6: Creating a UDP server</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Networking,-Part-7:-Nonblocking-I-O,-select(),-and-epoll/">Networking, Part 7: Nonblocking I O, select(), and epoll</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Networking-Review-Questions/">Networking Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Networking:-Review-Questions/">Networking: Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../OSI-Model/">OSI Model</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../POSIX,-Part-1:-Error-handling/">POSIX, Part 1: Error handling</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Pipe:-Review-Questions/">Pipe: Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Pipes,-Part-1:-Introduction-to-pipes/">Pipes, Part 1: Introduction to pipes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Pipes,-Part-2:-Pipe-programming-secrets/">Pipes, Part 2: Pipe programming secrets</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Process-Control,-Part-1:-Wait-macros,-using-signals/">Process Control, Part 1: Wait macros, using signals</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Processes,-Part-1:-Introduction/">Processes, Part 1: Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Processes-Review-Questions/">Processes Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Programming-Tricks,-Part-1/">Programming Tricks, Part 1</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Pthread-Review-Questions/">Pthread Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Pthreads,-Part-1:-Introduction/">Pthreads, Part 1: Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Pthreads,-Part-2:-Usage-in-Practice/">Pthreads, Part 2: Usage in Practice</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Pthreads,-Part-3:-Parallel-Problems-(Bonus)/">Pthreads, Part 3: Parallel Problems (Bonus)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../RPC,-Part-1:-Introduction-to-Remote-Procedure-Calls/">RPC, Part 1: Introduction to Remote Procedure Calls</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Sample-program-using-pthread-barriers/">Sample program using pthread barriers</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Scheduling,-Part-1:-Scheduling-Processes/">Scheduling, Part 1: Scheduling Processes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Scheduling,-Part-2:-Scheduling-Processes:-Algorithms/">Scheduling, Part 2: Scheduling Processes: Algorithms</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Signals,-Part-2:-Pending-Signals-and-Signal-Masks/">Signals, Part 2: Pending Signals and Signal Masks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Signals,-Part-3:-Raising-signals/">Signals, Part 3: Raising signals</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Signals,-Part-4:-Sigaction/">Signals, Part 4: Sigaction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Signals-Review-Questions/">Signals Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Signals:-Review-Questions/">Signals: Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Synchronization,-Part-1:-Mutex-Locks/">Synchronization, Part 1: Mutex Locks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Synchronization,-Part-2:-Counting-Semaphores/">Synchronization, Part 2: Counting Semaphores</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Synchronization,-Part-3:-Working-with-Mutexes-And-Semaphores/">Synchronization, Part 3: Working with Mutexes And Semaphores</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Synchronization,-Part-4:-The-Critical-Section-Problem/">Synchronization, Part 4: The Critical Section Problem</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Synchronization,-Part-5:-Condition-Variables/">Synchronization, Part 5: Condition Variables</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Synchronization,-Part-6:-Implementing-a-barrier/">Synchronization, Part 6: Implementing a barrier</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Synchronization,-Part-7:-The-Reader-Writer-Problem/">Synchronization, Part 7: The Reader Writer Problem</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Synchronization,-Part-8:-Ring-Buffer-Example/">Synchronization, Part 8: Ring Buffer Example</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Synchronization-Concepts:-Review-Questions/">Synchronization Concepts: Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Synchronization-Review-Questions/">Synchronization Review Questions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../System-Programming-Jokes/">System Programming Jokes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../System-Programming-Short-Stories-and-Songs/">System Programming Short Stories and Songs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Test-page/">Test page</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Virtual-Memory,-Part-1:-Introduction-to-Virtual-Memory/">Virtual Memory, Part 1: Introduction to Virtual Memory</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../_Footer/"> Footer</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">UIUC CS241 SystemProgramming Wiki</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>SystemProgramming &raquo;</li>
        
      
    
    <li>C Programming, Part 1: Introduction</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="want-a-quick-introduction-to-c">Want a quick introduction to C?</h1>
<ul>
<li>Keep reading for the quick crash-course to C Programming below</li>
<li>Then see the [[C Gotchas wiki page|C Programming, Part 3: Common Gotchas]].</li>
<li>And learn about [[text I/O|C Programming, Part 2: Text Input And Output]].</li>
<li>Kick back relax with <a href="http://cs-education.github.io/sys/#">Lawrence's intro videos</a> (Also there is a virtual machine-in-a-browser you can play with!)</li>
</ul>
<h1 id="external-resources">External resources</h1>
<ul>
<li><a href="https://learnxinyminutes.com/docs/c/">Learn X in Y</a> (Highly recommended to skim through!)</li>
<li><a href="http://www.ccs.neu.edu/course/com3620/parent/C-for-Java-C++/c-for-c++-alt.html">C for C++/Java Programmers</a></li>
<li><a href="http://www.lysator.liu.se/c/bwk-tutor.html">C Tutorial by Brian Kernighan</a></li>
<li><a href="http://c-faq.com/">c faq</a></li>
<li><a href="http://gribblelab.org/CBootCamp/index.html">C Bootcamp</a></li>
<li><a href="http://www.cplusplus.com/reference/clibrary/">C/C++ function reference</a></li>
<li><a href="http://www.unknownroad.com/rtfm/gdbtut/gdbtoc.html">gdb (Gnu debugger) tutorial</a> Tip: run gdb with the "-tui" command line argument to get a full screen version of the debugger.</li>
<li>Add your favorite resources here</li>
</ul>
<h1 id="crash-course-intro-to-c">Crash course intro to C</h1>
<p><em>Warning new page</em> Please fix typos and formatting mistakes for me and add useful links too.*</p>
<h2 id="how-do-you-write-a-complete-hello-world-program-in-c">How do you write a complete hello world program in C?</h2>
<pre><code class="C">#include &lt;stdio.h&gt;
int main(void) { 
    printf(&quot;Hello World\n&quot;);
    return 0; 
}
</code></pre>

<h2 id="why-do-we-use-include-stdioh">Why do we use '<code>#include &lt;stdio.h&gt;</code>'?</h2>
<p>We're lazy! We don't want to declare the <code>printf</code> function. It's already done for us inside the file '<code>stdio.h</code>'. The <code>#include</code> includes the text of the file as part of our file to be compiled.</p>
<p>Specifically, the <code>#include</code> directive takes the file <code>stdio.h</code> (which stands for <strong>st</strong>an<strong>d</strong>ard <strong>i</strong>nput and <strong>o</strong>utput) located somewhere in your operating system, copies the text, and substitutes it where the <code>#include</code> was.</p>
<h2 id="how-are-c-strings-represented">How are C strings represented?</h2>
<p>They are represented as characters in memory.  The end of the string includes a NULL (0) byte. So "ABC" requires four(4) bytes <code>['A','B','C','\0']</code>. The only way to find out the length of a C string is to keep reading memory until you find the NULL byte. C characters are always exactly one byte each.</p>
<p>When you write a string literal <code>"ABC"</code> in an expression the string literal evaluates to a char pointer (<code>char *</code>), which points to the first byte/char of the string.  This means <code>ptr</code> in the example below will hold the memory address of the first character in the string.</p>
<pre><code class="C">char *ptr = &quot;ABC&quot;
</code></pre>

<h2 id="how-do-you-declare-a-pointer">How do you declare a pointer?</h2>
<p>A pointer refers to a memory address. The type of the pointer is useful - it tells the compiler how many bytes need to be read/written. You can declare a pointer as follows.</p>
<pre><code class="C">int *ptr1;
char *ptr2;
</code></pre>

<p>Due to C's grammar, a <code>int*</code> or any pointer is not actually its own type. You have to precede each pointer variable with an asterisk. As a common gotcha, the following</p>
<pre><code class="C">int* ptr3, ptr4;
</code></pre>

<p>Will only declare <code>*ptr3</code> as a pointer. <code>ptr4</code> will actually be a regular int variable. To fix this declaration, keep the <code>*</code> preceding to the pointer</p>
<pre><code class="C">int *ptr3, *ptr4;
</code></pre>

<h2 id="how-do-you-use-a-pointer-to-readwrite-some-memory">How do you use a pointer to read/write some memory?</h2>
<p>Let's say that we declare a pointer <code>int *ptr</code>. For the sake of discussion, let's say that <code>ptr</code> points to memory address <code>0x1000</code>. If we want to write to a pointer, we can deference and assign <code>*ptr</code>.</p>
<pre><code class="C">*ptr = 0; // Writes some memory.
</code></pre>

<p>What C will do is take the type of the pointer which is an <code>int</code> and writes <code>sizeof(int)</code> bytes from the start of the pointer, meaning that bytes <code>0x1000</code>, <code>0x1004</code>, <code>0x1008</code>, <code>0x100a</code> will all be zero. The number of bytes written depends on the pointer type. It is the same for all primitive types but structs are a little different.</p>
<h2 id="what-is-pointer-arithmetic">What is pointer arithmetic?</h2>
<p>You can add an integer to a pointer. However the pointer type is used to determine how much to increment the pointer. For char pointers this is trivial because characters are always one byte:</p>
<pre><code class="C">char *ptr = &quot;Hello&quot;; // ptr holds the memory location of 'H'
ptr += 2; //ptr now points to the first'l'
</code></pre>

<p>If an int is 4 bytes then ptr+1 points to 4 bytes after whatever ptr is pointing at.</p>
<pre><code class="C">char *ptr = &quot;ABCDEFGH&quot;;
int *bna = (int *) ptr;
bna +=1; // Would cause iterate by one integer space (i.e 4 bytes on some systems)
ptr = (char *) bna;
printf(&quot;%s&quot;, ptr);
/* Notice how only 'EFGH' is printed. Why is that? Well as mentioned above, when performing 'bna+=1' we are increasing the **integer** pointer by 1, (translates to 4 bytes on most systems) which is equivalent to 4 characters (each character is only 1 byte)*/
return 0;
</code></pre>

<p>Because pointer arithmetic in C is always automatically scaled by the size of the type that is pointed to, you can't perform pointer arithmetic on void pointers.</p>
<p>You can think of pointer arithmetic in C as essentially doing the following</p>
<p>If I want to do</p>
<pre><code class="C">int *ptr1 = ...;
int *offset = ptr1 + 4;
</code></pre>

<p>Think</p>
<pre><code class="C">int *ptr1 = ...;
char *temp_ptr1 = (char*) ptr1;
int *offset = (int*)(temp_ptr1 + sizeof(int)*4);
</code></pre>

<p>To get the value. <strong>Every time you do pointer arithmetic, take a deep breath and make sure that you are shifting over the number of bytes you think you are shifting over.</strong></p>
<h2 id="what-is-a-void-pointer">What is a void pointer?</h2>
<p>A pointer without a type (very similar to a void variable). Void pointers are used when either a datatype you're dealing with is unknown or when you're interfacing C code with other programming languages. You can think of this as a raw pointer, or just a memory address. You cannot directly read or write to it because the void type does not have a size. For Example</p>
<pre><code class="C">void *give_me_space = malloc(10);
char *string = give_me_space;
</code></pre>

<p>This does not require a cast because C automatically promotes <code>void*</code> to its appropriate type.
<strong>Note:</strong></p>
<p>gcc and clang are not total ISO-C compliant, meaning that they will let you do arithmetic on a void pointer. They will treat it as a char pointer but do not do this because it may not work with all compilers!</p>
<h2 id="does-printf-call-write-or-does-write-call-printf">Does <code>printf</code> call write or does write call <code>printf</code>?</h2>
<p><code>printf</code> calls <code>write</code>. <code>printf</code> includes an internal buffer so, to increase performance <code>printf</code> may not call <code>write</code> everytime you call <code>printf</code>. <code>printf</code> is a C library function. <code>write</code> is a system call and as we know system calls are expensive. On the other hand <code>printf</code> uses a buffer which suits our needs better at that point</p>
<h2 id="how-do-you-print-out-pointer-values-integers-strings">How do you print out pointer values? integers? strings?</h2>
<p>Use format specifiers "%p" for pointers, "%d" for integers and "%s" for Strings.
A full list of all of the format specifiers is found <a href="http://www.cplusplus.com/reference/cstdio/printf/">here</a></p>
<p>Example of integer:</p>
<pre><code class="C">int num1 = 10;
printf(&quot;%d&quot;, num1); //prints num1
</code></pre>

<p>Example of integer pointer:</p>
<pre><code class="C">int *ptr = (int *) malloc(sizeof(int));
*ptr = 10;
printf(&quot;%p\n&quot;, ptr); //prints the address pointed to by the pointer
printf(&quot;%p\n&quot;, &amp;ptr); /*prints the address of pointer -- extremely useful
when dealing with double pointers*/
printf(&quot;%d&quot;, *ptr); //prints the integer content of ptr
return 0;
</code></pre>

<p>Example of string:</p>
<pre><code class="C">char *str = (char *) malloc(256 * sizeof(char));
strcpy(str, &quot;Hello there!&quot;);
printf(&quot;%p\n&quot;, str); // print the address in the heap
printf(&quot;%s&quot;, str);
return 0;
</code></pre>

<p><a href="https://www.cs.bu.edu/teaching/c/string/intro/">Strings as Pointers &amp; Arrays @ BU</a></p>
<h2 id="how-would-you-make-standard-out-be-saved-to-a-file">How would you make standard out be saved to a file?</h2>
<p>Simplest way: run your program and use shell redirection
e.g.</p>
<pre><code>./program &gt; output.txt

#To read the contents of the file,
cat output.txt
</code></pre>

<p>More complicated way: close(1) and then use open to re-open the file descriptor.
See [[http://cs-education.github.io/sys/#chapter/0/section/3/activity/0]]</p>
<h2 id="whats-the-difference-between-a-pointer-and-an-array-give-an-example-of-something-you-can-do-with-one-but-not-the-other">What's the difference between a pointer and an array? Give an example of something you can do with one but not the other.</h2>
<pre><code class="C">char ary[] = &quot;Hello&quot;;
char *ptr = &quot;Hello&quot;;
</code></pre>

<p>Example </p>
<p>The array name points to the first byte of the array. Both <code>ary</code> and <code>ptr</code> can be printed out:</p>
<pre><code class="C">char ary[] = &quot;Hello&quot;;
char *ptr = &quot;Hello&quot;;
// Print out address and contents
printf(&quot;%p : %s\n&quot;, ary, ary);
printf(&quot;%p : %s\n&quot;, ptr, ptr);
</code></pre>

<p>The array is mutable, so we can change its contents (be careful not to write bytes beyond the end of the array though). Fortunately 'World' is no longer than 'Hello"</p>
<p>In this case, the char pointer <code>ptr</code> points to some read only memory (where the statically allocated string literal is stored), so we cannot change those contents.</p>
<pre><code class="C">strcpy(ary, &quot;World&quot;); // OK
strcpy(ptr, &quot;World&quot;); // NOT OK - Segmentation fault (crashes)

</code></pre>

<p>We can, however, unlike the array, we change <code>ptr</code> to point to another piece of memory,</p>
<pre><code class="C">ptr = &quot;World&quot;; // OK!
ptr = ary; // OK!
ary = (..anything..) ; // WONT COMPILE
// ary is doomed to always refer to the original array.
printf(&quot;%p : %s\n&quot;, ptr, ptr);
strcpy(ptr, &quot;World&quot;); // OK because now ptr is pointing to mutable memory (the array)
</code></pre>

<p>What to take away from this is that pointers * can point to any type of memory while C arrays [] can only point to memory on the stack. In a more common case, pointers will point to heap memory in which case the memory referred to by the pointer CAN be modified.</p>
<h2 id="sizeof-returns-the-number-of-bytes-so-using-above-code-what-is-sizeofary-and-sizeofptr"><code>sizeof()</code> returns the number of bytes. So using above code, what is sizeof(ary) and sizeof(ptr)?</h2>
<p><code>sizeof(ary)</code>: <code>ary</code> is an array. Returns the number of bytes required for the entire array (5 chars + zero byte = 6 bytes)
<code>sizeof(ptr)</code>: Same as sizeof(char *). Returns the number bytes required for a pointer (e.g. 4 or 8 for a 32 bit or 64 bit machine)</p>
<p><code>sizeof</code> is a special operator. Really it's something the compiler substitutes in before compiling the program because the size of all types is known at compile time. When you have <code>sizeof(char*)</code> that takes the size of a pointer on your machine (8 bytes for a 64 bit machine and 4 for a 32 bit and so on). When you try <code>sizeof(char[])</code>, the compiler looks at that and substitutes the number of bytes that the <strong>entire</strong> array contains because the total size of the array is known at compile time.</p>
<pre><code class="C">char str1[] = &quot;will be 11&quot;;
char* str2 = &quot;will be 8&quot;;
sizeof(str1) //11 because it is an array
sizeof(str2) //8 because it is a pointer
</code></pre>

<p>Be careful, using sizeof for the length of a string!</p>
<h2 id="which-of-the-following-code-is-incorrect-or-correct-and-why">Which of the following code is incorrect or correct and why?</h2>
<pre><code class="C">int* f1(int *p) {
    *p = 42;
    return p;
} // This code is correct;
</code></pre>

<pre><code class="C">char* f2() {
    char p[] = &quot;Hello&quot;;
    return p;
} // Incorrect!
</code></pre>

<p>Explanation: An array p is created on the stack for the correct size to hold H,e,l,l,o, and a null byte i.e. (6) bytes. This array is stored on the stack and is invalid after we return from f2.</p>
<pre><code class="C">char* f3() {
    char *p = &quot;Hello&quot;;
    return p;
} // OK
</code></pre>

<p>Explanation: p is a pointer. It holds the address of the string constant. The string constant is unchanged and valid even after f3 returns.</p>
<pre><code class="C">char* f4() {
    static char p[] = &quot;Hello&quot;;
    return p;
} // OK
</code></pre>

<p>Explanation: The array is static meaning it exists for the lifetime of the process (static variables are not on the heap or the stack).</p>
<h2 id="how-do-you-look-up-information-c-library-calls-and-system-calls">How do you look up information C library calls and system calls?</h2>
<p>Use the man pages. Note the man pages are organized into sections. Section 2 = System calls. Section 3 = C libraries.
Web: Google "man7 open"
shell: man -S2 open  or man -S3 printf</p>
<h2 id="how-do-you-allocate-memory-on-the-heap">How do you allocate memory on the heap?</h2>
<p>Use malloc. There's also realloc and calloc.
Typically used with sizeof. e.g. enough space to hold 10 integers</p>
<pre><code class="C">int *space = malloc(sizeof(int) * 10);
</code></pre>

<h2 id="whats-wrong-with-this-string-copy-code">What's wrong with this string copy code?</h2>
<pre><code class="C">void mystrcpy(char*dest, char* src) { 
  // void means no return value   
  while( *src ) { dest = src; src ++; dest++; }  
}
</code></pre>

<p>In the above code it simply changes the dest pointer to point to source string. Also the nuls bytes are not copied. Here's a better version - </p>
<pre><code>  while( *src ) { *dest = *src; src ++; dest++; } 
  *dest = *src;
</code></pre>

<p>Note it's also usual to see the following kind of implementation, which does everything inside the expression test, including copying the nul byte.</p>
<pre><code class="C">  while( (*dest++ = *src++ )) {};
</code></pre>

<h2 id="how-do-you-write-a-strdup-replacement">How do you write a strdup replacement?</h2>
<pre><code class="C">// Use strlen+1 to find the zero byte... 
char* mystrdup(char*source) {
   char *p = (char *) malloc ( strlen(source)+1 );
   strcpy(p,source);
   return p;
}
</code></pre>

<h2 id="how-do-you-unallocate-memory-on-the-heap">How do you unallocate memory on the heap?</h2>
<p>Use free!</p>
<pre><code class="C">int *n = (int *) malloc(sizeof(int));
*n = 10;
//Do some work
free(n);
</code></pre>

<h2 id="what-is-double-free-error-how-can-you-avoid-what-is-a-dangling-pointer-how-do-you-avoid">What is double free error? How can you avoid? What is a dangling pointer? How do you avoid?</h2>
<p>A double free error is when you accidentally attempt to free the same allocation twice.</p>
<pre><code class="C">int *p = malloc(sizeof(int));
free(p);

*p = 123; // Oops! - Dangling pointer! Writing to memory we don't own anymore

free(p); // Oops! - Double free!
</code></pre>

<p>The fix is firstly to write correct programs! Secondly, it's good programming hygiene to reset pointers
once the memory has been freed. This ensures the pointer cant be used incorrectly without the program crashing.</p>
<p>Fix:</p>
<pre><code class="C">p = NULL; // Now you can't use this pointer by mistake
</code></pre>

<h2 id="what-is-an-example-of-buffer-overflow">What is an example of buffer overflow?</h2>
<p>Famous example: Heart Bleed (performed a memcpy into a buffer that was of insufficient size).
Simple example: implement a strcpy and forget to add one to strlen, when determining the size of the memory required.</p>
<h2 id="what-is-typedef-and-how-do-you-use-it">What is 'typedef' and how do you use it?</h2>
<p>Declares an alias for a type. Often used with structs to reduce the visual clutter of having to write 'struct' as part of the type.</p>
<pre><code class="C">typedef float real; 
real gravity = 10;
// Also typedef gives us an abstraction over the underlying type used. 
// For example in the future we only need to change this typedef if we
// wanted our physics library to use doubles instead of floats.

typedef struct link link_t; 
//With structs, include the keyword 'struct' as part of the original types
</code></pre>

<p>In this class, we regularly typedef functions. A typedef for a function can be this for example</p>
<pre><code class="C">typedef int (*comparator)(void*,void*);

int greater_than(void* a, void* b){
    return a &gt; b;
}
comparator gt = greater_than;
</code></pre>

<p>This declares a function type comparator that accepts two <code>void*</code> params and returns an integer.</p>
<h2 id="wow-that-was-a-lot-of-c">Wow that was a lot of C</h2>
<p>Don't worry more to come!</p>
<div align="center">
<a href="https://github.com/angrave/SystemProgramming/wiki/C-Programming%2C-Part-2%3A-Text-Input-And-Output">
Next: C Programming, Part 2: Text Input And Output
</a>
</div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../C-Programming,-Part-2:-Text-Input-And-Output/" class="btn btn-neutral float-right" title="C Programming, Part 2: Text Input And Output">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../#Piazza: When And How to Ask For Help/" class="btn btn-neutral" title="#Piazza: When And How to Ask For Help"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../#Piazza: When And How to Ask For Help/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../C-Programming,-Part-2:-Text-Input-And-Output/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
